<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ProgressBar</title>
    <link rel="stylesheet" type="text/css" href="../js/ext-4.2.1.883/resources/css/ext-all.css
">
    <script type="text/javascript" src="../js/ext-4.2.1.883/ext-all.js"></script>
    <script type="text/javascript" src="../js/ext-4.2.1.883/locale/ext-lang-zh_CN.js"></script>
    <script type="text/javascript">
        Ext.onReady(function () {
            //手动更新进度条
            var ProgressBar = new Ext.ProgressBar({
                width: 300,
                renderTo: 'ProgressBar'
            });
            var count = 0,
                percentage = 0,
                progressText = "";
            Ext.TaskManager.start({
                run: function () {
                    count++;
                    if (count > 10) {
                        ProgressBar.hide();
                    }
                    percentage = count / 10;
                    progressText = percentage * 100 + "%";
                    ProgressBar.updateProgress(percentage, progressText, true);
                },
                interval: 1000,
                repeat: 6
            });

            //自动更新进度条
            var ProgressBar1 = new Ext.ProgressBar({
                text: "working......",
                width: 300,
                renderTo: 'ProgressBar1'
            });
            ProgressBar1.wait({
                duration: 10000,
                interval: 1000,
                increment: 10,
                text: 'waiting',
                scope: this,
                fn: function () {
                    alert("更新完毕");
                }
            });

        });
    </script>
</head>
<body>
<div id="ProgressBar"></div>
<div style="width: 100%;height: 200px;background-color: yellow;"></div>
<div id="ProgressBar1"></div>
</body>
</html>